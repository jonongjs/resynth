<!DOCTYPE html>
<html ng-app="resynthApp">
  <head>
	<meta charset="utf-8">
	<meta name="description" content="Analysis-resynthesis tool">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Resynth</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <link href="css/data.css" rel="stylesheet">
  </head>

  <body>
    <div ng-controller="MainController" drag-upload>
		<input type="file" id="inputfile" class="inputfile" input-change="addFile(f)"/>
		<div class="drag-upload">Drag here!</div>

		<tabset>
			<tab>
				<tab-heading>Resynth</tab-heading>
				Get started by clicking on the <i class="fa fa-plus-square"></i>
			</tab>
			<tab ng-repeat="tab in tabs" heading="{{tab.title}}" active="tab.active" ng-controller="TabController" class="tab">
				<div class="btn-group-vertical" id="toolbar">
					<label class="btn btn-primary" ng-model="opModel" btn-radio="'select'">
						<div tooltip-placement="right" tooltip="Make selection">
						<i class="fa fa-fw fa-pencil-square-o"></i>
						</div>
					</label>
					<label class="btn btn-primary" ng-model="opModel" btn-radio="'movefree'">
						<div tooltip-placement="right" tooltip="Move selection">
						<i class="fa fa-fw fa-arrows"></i>
						</div>
					</label>
					<label class="btn btn-primary" ng-model="opModel" btn-radio="'scaleh'">
						<div tooltip-placement="right" tooltip="Scale selection horizontally">
						<i class="fa fa-fw fa-arrows-h"></i>
						</div>
					</label>
					<label class="btn btn-primary" ng-model="opModel" btn-radio="'scalev'">
						<div tooltip-placement="right" tooltip="Scale selection vertically">
						<i class="fa fa-fw fa-arrows-v"></i>
						</div>
					</label>
				</div>
				<button ng-class="{'btn':true, 'btn-success':!isPlaying, 'btn-danger':isPlaying}" tooltip="Play" playback>
					<i ng-class="{'fa':true, 'fa-play':!isPlaying, 'fa-stop':isPlaying}"></i>
				</button>
				<div sound-magic></div>
			</tab>
			<tab select="buttonClicked()" button-upload>
				<tab-heading tooltip="Add file" tooltip-placement="bottom">
					<i class="fa fa-plus-square"></i>
				</tab-heading>
			</tab>
		</tabset>
    </div>

	<script type="text/ng-template" id="analysisParams.html">
        <div class="modal-header">
            <h3 class="modal-title">Analysis Parameters</h3>
        </div>
        <div class="modal-body">
			<label>Threshold: <input type="number" class="form-control" name="threshold" ng-model="params.threshold" min="0"></label>
			<label>Max peaks: <input type="number" class="form-control" name="maxPeaks" ng-model="params.maxPeaks" min="1"></label>
			<label>Match delta: <input type="number" class="form-control" name="matchDelta" ng-model="params.matchDelta" min="1"></label>
			<label>Window size: <input type="number" class="form-control" name="windowSize" ng-model="params.windowSize"min="1"></label>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script src="js/vendor/angular.min.js"></script>
    <script src="js/vendor/ui-bootstrap-tpls-0.11.0.min.js"></script>
    <script src="js/app/app.js"></script>
    <script src="js/app/mqAudio.js"></script>

    <script src="js/app/MainController.js"></script>
    <script src="js/app/TabController.js"></script>
    <script src="js/app/AnalysisParamsController.js"></script>
    <script src="js/ButtonUploadDirective.js"></script>
    <script src="js/DragUploadDirective.js"></script>
    <script src="js/InputChangeDirective.js"></script>
    <script src="js/PlaybackDirective.js"></script>
    <script src="js/SoundMagicDirective.js"></script>

	<script src="js/vendor/audiolib.js"></script>
	<script src="js/vendor/aurora.js"></script>
	<script src="js/vendor/d3.min.js"></script>
	<script src="js/vendor/lodash.min.js"></script>
  </body>
</html>
